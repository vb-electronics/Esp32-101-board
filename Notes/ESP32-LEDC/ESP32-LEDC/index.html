
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="ESP32-101-board reference site" name="description"/>
<link href="../../../img/rocket-launch-outline.png" rel="icon"/>
<meta content="mkdocs-1.2.3, mkdocs-material-8.1.4" name="generator"/>
<title>ESP32-LEDC - Esp32-101-board</title>
<link href="../../../assets/stylesheets/main.bb3983ee.min.css" rel="stylesheet"/>
<link href="../../../assets/stylesheets/palette.e6a45f82.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
<link href="../../../stylesheets/extra.css" rel="stylesheet"/>
<link href="https://unpkg.com/mermaid@8.4.5/dist/mermaid.min.js" rel="stylesheet"/>
<script>__md_scope=new URL("../../..",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
</head>
<body data-md-color-accent="" data-md-color-primary="" data-md-color-scheme="electro" dir="ltr">
<script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#esp32-idf">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="Esp32-101-board" class="md-header__button md-logo" data-md-component="logo" href="../../.." title="Esp32-101-board">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m13.13 22.19-1.63-3.83c1.57-.58 3.04-1.36 4.4-2.27l-2.77 6.1M5.64 12.5l-3.83-1.63 6.1-2.77C7 9.46 6.22 10.93 5.64 12.5M19.22 4c.28 0 .53 0 .74.05.17 1.39-.02 4.25-3.3 7.53-1.7 1.71-3.73 3.02-6.01 3.89l-2.15-2.1c.92-2.31 2.23-4.34 3.92-6.03C15.18 4.58 17.64 4 19.22 4m0-2c-1.98 0-4.98.69-8.22 3.93-2.19 2.19-3.5 4.6-4.35 6.71-.28.75-.09 1.57.46 2.13l2.13 2.12c.38.38.89.61 1.42.61.23 0 .47-.06.7-.15A19.1 19.1 0 0 0 18.07 13c5.66-5.66 3.54-10.61 3.54-10.61S20.7 2 19.22 2m-4.68 7.46c-.78-.78-.78-2.05 0-2.83s2.05-.78 2.83 0c.77.78.78 2.05 0 2.83-.78.78-2.05.78-2.83 0m-5.66 7.07-1.41-1.41 1.41 1.41M6.24 22l3.64-3.64c-.34-.09-.67-.24-.97-.45L4.83 22h1.41M2 22h1.41l4.77-4.76-1.42-1.41L2 20.59V22m0-2.83 4.09-4.08c-.21-.3-.36-.62-.45-.97L2 17.76v1.41z"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            Esp32-101-board
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              ESP32-LEDC
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="" data-md-color-media="(prefers-color-scheme: light)" data-md-color-primary="" data-md-color-scheme="electro" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22z"></path></svg>
</label>
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-primary="" data-md-color-scheme="slate" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31z"></path></svg>
</label>
</form>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="Esp32-101-board" class="md-nav__button md-logo" data-md-component="logo" href="../../.." title="Esp32-101-board">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m13.13 22.19-1.63-3.83c1.57-.58 3.04-1.36 4.4-2.27l-2.77 6.1M5.64 12.5l-3.83-1.63 6.1-2.77C7 9.46 6.22 10.93 5.64 12.5M19.22 4c.28 0 .53 0 .74.05.17 1.39-.02 4.25-3.3 7.53-1.7 1.71-3.73 3.02-6.01 3.89l-2.15-2.1c.92-2.31 2.23-4.34 3.92-6.03C15.18 4.58 17.64 4 19.22 4m0-2c-1.98 0-4.98.69-8.22 3.93-2.19 2.19-3.5 4.6-4.35 6.71-.28.75-.09 1.57.46 2.13l2.13 2.12c.38.38.89.61 1.42.61.23 0 .47-.06.7-.15A19.1 19.1 0 0 0 18.07 13c5.66-5.66 3.54-10.61 3.54-10.61S20.7 2 19.22 2m-4.68 7.46c-.78-.78-.78-2.05 0-2.83s2.05-.78 2.83 0c.77.78.78 2.05 0 2.83-.78.78-2.05.78-2.83 0m-5.66 7.07-1.41-1.41 1.41 1.41M6.24 22l3.64-3.64c-.34-.09-.67-.24-.97-.45L4.83 22h1.41M2 22h1.41l4.77-4.76-1.42-1.41L2 20.59V22m0-2.83 4.09-4.08c-.21-.3-.36-.62-.45-.97L2 17.76v1.41z"></path></svg>
</a>
    Esp32-101-board
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../..">
        Начало
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../boardInfo/">
        Инфо
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../ide-install/">
        Инсталиране IDE
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4">
          Библиотеки
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Библиотеки" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
          Библиотеки
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../libraries/">
        Инсталиране на библиотека
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../libraries-onboard/">
        Използвани в 101-board
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5">
          Примери
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Примери" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
          Примери
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../examples/01-button/">
        01. Бутони
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../examples/02-encoder/">
        02. Ротационен енкодер
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../examples/03-rgb/">
        03. RGB светодиод
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../examples/04-transistors/">
        04. Транзисторни цифрови изходи
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../examples/05-piezo/">
        05. Пиезо-зумер
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../examples/06-touch/">
        06. Сензори за допир
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../examples/07-joystick/">
        07. Аналогов джойстик
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../examples/08-temperature/">
        08. Температурен сензор
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../examples/09-photodiode/">
        09. Фотодиод
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../examples/10-infrared-tx/">
        10. Инфрачервен светодиод
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../examples/11-infrared-rx/">
        11. Инфрачервен приемник с демодулатор (38kHz)
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../examples/12-display/">
        12. Графичен OLED дисплей
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../examples/13-mems/">
        13. Жироскоп/акселерометър
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../examples/14-onboard-eeprom/">
        14. Допълнителна (външна) EEPROM памет
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../examples/99-demo/">
        99. Демо
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../gpio/">
        Референция I/O
      </a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" id="__nav_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7">
          Notes
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-label="Notes" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
          Notes
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../ESP32-ADC/ESP32-ADC/">
        ESP32_ADC
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ESP32-DAC/ESP32-DAC/">
        ESP32-DAC
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ESP32-HAL/ESP32-HAL/">
        ESP32-HAL
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" data-md-toggle="toc" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          ESP32-LEDC
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="./">
        ESP32-LEDC
      </a>
<nav aria-label="На тази страница" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      На тази страница
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#1-timer-configuration">
    1. Timer Configuration
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2-channel-configuration">
    2. Channel Configuration
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../ESP32-TIMER/ESP32-TIMER/">
        ESP32-TIMER
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="На тази страница" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      На тази страница
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#1-timer-configuration">
    1. Timer Configuration
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#2-channel-configuration">
    2. Channel Configuration
  </a>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1 id="esp32-idf">ESP32-IDF</h1>
<p>LED Controller with 16 channels</p>
<ul>
<li>8 channels in high speed mode</li>
<li>8 channels in low speed mode</li>
</ul>
<p>LEDC channels are divided into two groups of 8 channels each. One group of LEDC channels operates in high speed mode. This mode is implemented in hardware and offers automatic and glitch-free changing of the PWM duty cycle. The other group of channels operate in low speed mode, the PWM duty cycle must be changed by the driver in software.</p>
<p>Setting up a channel of the LEDC in either high or low speed mode is done in three steps:</p>
<ol>
<li>
<p><strong>Timer Configuration</strong> by specifying the PWM signal’s frequency and duty cycle resolution.</p>
</li>
<li>
<p><strong>Channel Configuration</strong> by associating it with the <strong>timer and GPIO</strong> to output the PWM signal.</p>
</li>
<li>
<p><strong>Change PWM Signal</strong> that drives the output in order to change LED’s intensity. This can be done under the full control of software or with hardware fading functions.</p>
</li>
</ol>
<h3 id="1-timer-configuration"><strong>1. Timer Configuration</strong></h3>
<p>The frequency and the duty resolution are interdependent. The higher the PWM frequency, the lower the duty resolution which is available, and vice versa.</p>
<p><em>Commonly­used Frequencies and Resolutions</em></p>
<table>
<thead>
<tr>
<th>LEDC Clock Source</th>
<th>LEDC Output (PWM) Frequency</th>
<th>Highest Resolution</th>
</tr>
</thead>
<tbody>
<tr>
<td>APB_CLK (80 MHz)</td>
<td>1 kHz</td>
<td>1/65536 (16 bit)</td>
</tr>
<tr>
<td>APB_CLK (80 MHz)</td>
<td>5 kHz</td>
<td>1/8192 (13 bit)</td>
</tr>
<tr>
<td>APB_CLK (80 MHz)</td>
<td>10 kHz</td>
<td>1/4096  (12 bit)</td>
</tr>
<tr>
<td>RTC8M_CLK (8 MHz)</td>
<td>1 kHz</td>
<td>1/4096 (12 bit)</td>
</tr>
<tr>
<td>RTC8M_CLK (8 MHz)</td>
<td>8 kHz</td>
<td>1/512(9 bit)</td>
</tr>
<tr>
<td>REF_TICK (1 MHz)</td>
<td>1 kHz</td>
<td>1/512 (9 bit)</td>
</tr>
</tbody>
</table>
<h3 id="2-channel-configuration"><strong>2. Channel Configuration</strong></h3>
<p><img alt="ledc-api" src="../ledc-api-settings.jpg"/></p>
<h1 id="esp32-arduino-core">ESP32-Arduino core</h1>
<h2 id="pwm">Основи ШИМ PWM</h2>
<p><img alt="pwm" src="../PWM-Signal.gif"/></p>
<ul>
<li><strong>duty cycle</strong> </li>
</ul>
<p>the ratio of the time that the signal is in a high(on) state over the total time it takes to complete one cycle</p>
<pre><code>|voltage amplitude|duty cycle|output voltage |
|----|---|----|
3.3V |100 %| 3.3 V|
3.3V |75 %| 2.475 V|
3.3V |50 %| 1.65 V|
3.3V |25 %| 0.85 V|
3.3V |0 %| 0.0 V|
</code></pre>
<ul>
<li>
<p><strong>resolution</strong></p>
<table>
<thead>
<tr>
<th>resolution</th>
<th>values as unit</th>
<th>duty cycle range</th>
<th>duty cycle value in unit at 50%</th>
</tr>
</thead>
<tbody>
<tr>
<td>16 bit</td>
<td>1- 65536</td>
<td>0-100 %</td>
<td>32768</td>
</tr>
<tr>
<td>13 bit</td>
<td>1-8192</td>
<td>0-100 %</td>
<td>4096</td>
</tr>
<tr>
<td>12 bit</td>
<td>1-4096</td>
<td>0-100 %</td>
<td>2048</td>
</tr>
<tr>
<td>10 bit</td>
<td>1-1024</td>
<td>0-100 %</td>
<td>512</td>
</tr>
<tr>
<td>8 bit</td>
<td>1-256</td>
<td>0-100 %</td>
<td>128</td>
</tr>
</tbody>
</table>
</li>
<li>
<p><strong>frequency / period</strong></p>
<p>It determines the speed at which the PWM completes one cycle, which means the speed at which the signal switches between high and low states. If we turn the digital signal on and off repeatedly with a high enough frequency, the output will behave like an analogue signal with a constant voltage.</p>
</li>
<li>
<p><strong>resolution</strong></p>
<table>
<thead>
<tr>
<th>resolution</th>
<th>values as unit</th>
<th>duty cycle range</th>
<th>duty cycle value in unit at 50%</th>
</tr>
</thead>
<tbody>
<tr>
<td>16 bit</td>
<td>1- 65536</td>
<td>0-100 %</td>
<td>32768</td>
</tr>
<tr>
<td>13 bit</td>
<td>1-8192</td>
<td>0-100 %</td>
<td>4096</td>
</tr>
<tr>
<td>12 bit</td>
<td>1-4096</td>
<td>0-100 %</td>
<td>2048</td>
</tr>
<tr>
<td>10 bit</td>
<td>1-1024</td>
<td>0-100 %</td>
<td>512</td>
</tr>
<tr>
<td>8 bit</td>
<td>1-256</td>
<td>0-100 %</td>
<td>128</td>
</tr>
</tbody>
</table>
</li>
</ul>
<h2 id="_1">Приложения на ШИМ</h2>
<ul>
<li><strong>Adjust Brightness of Screen using PWM</strong></li>
</ul>
<p>For PWM, adjusting the brightness of the screen does not rely on the power but by alternating on and off of the screen. When the PWM dimming screen is lit, it does not continuously emit light, but it constantly lights up and turns off the screen. If this changes fast enough, our eyes treat is as always on but with different brightness based on different duty cycles. The larger the duty cycle, the brighter the screen.</p>
<h2 id="_2">използване</h2>
<div class="highlight"><pre><span></span><code><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">ledPin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"></span>
<span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">channel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">8</span><span class="p">;</span><span class="w"></span>
<span class="k">const</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">freq</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10000</span><span class="p">;</span><span class="w"> </span>
<span class="k">const</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">pwmResolution</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">12</span><span class="p">;</span><span class="w"></span>

<span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">(){</span><span class="w"></span>
<span class="w">    </span><span class="n">ledcSetup</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span><span class="n">freq</span><span class="p">,</span><span class="n">pwmResolution</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="n">ledcAttachPin</span><span class="p">(</span><span class="n">ledPin</span><span class="p">,</span><span class="n">channel</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">(){</span><span class="w"></span>

<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">4095</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">ledcWrite</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span><span class="n">i</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">delay</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4095</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">--</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">ledcWrite</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span><span class="n">i</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="n">delay</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</code></pre></div>
<h3 id="_3">основни функции</h3>
<p><div class="highlight"><pre><span></span><code><span class="kt">double</span><span class="w"> </span><span class="n">ledcSetup</span><span class="p">(</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">chan</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">freq</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">bit_num</span><span class="p">)</span><span class="w"></span>
</code></pre></div>
  - <code>uint8_t chan</code>  избиране на канал от LEDC драйвера 0-15
  - <code>double freq</code> честота на запълване
  - <code>uint8_t bit_num</code> резолюция на ШИМ 0-16 bit</p>
<p><em>препоръчителни стойности</em>
| честота |най-висока резолюция|
|---|---|
 1 kHz  | 1/65536 (16 bit)
 5 kHz | 1/8192 (13 bit)
 10 kHz |1/4096  (12 bit)</p>
<p><div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">ledcAttachPin</span><span class="p">(</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">pin</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">chan</span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="n">ledcWrite</span><span class="p">(</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">chan</span><span class="p">,</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">duty</span><span class="p">)</span><span class="w"></span>
</code></pre></div></p>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<nav aria-label="Footer" class="md-footer__inner md-grid">
<a aria-label="Previous: ESP32-HAL" class="md-footer__link md-footer__link--prev" href="../../ESP32-HAL/ESP32-HAL/" rel="prev">
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"></path></svg>
</div>
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Previous
              </span>
              ESP32-HAL
            </div>
</div>
</a>
<a aria-label="Next: ESP32-TIMER" class="md-footer__link md-footer__link--next" href="../../ESP32-TIMER/ESP32-TIMER/" rel="next">
<div class="md-footer__title">
<div class="md-ellipsis">
<span class="md-footer__direction">
                Next
              </span>
              ESP32-TIMER
            </div>
</div>
<div class="md-footer__button md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"></path></svg>
</div>
</a>
</nav>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.annotate"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.361d90f1.min.js"}</script>
<script src="../../../assets/javascripts/bundle.289a2a4b.min.js"></script>
</body>
</html>